<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>SPY - Cyber Noir Edition</title>
    
    <link rel="icon" type="image/png" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvC3mnXkzAiNW0DlOvHPt8luqNI9c010FotA&s">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;800&family=Orbitron:wght@400;700&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div id="loadingScreen">
        <div class="spinner"></div>
        <div class="loading-text">рЃўрЃбрЃЋрЃўрЃарЃЌрЃћрЃЉрЃљ...</div>
    </div>
    
    <div id="toastMessage" class="toast-message"></div>

    <div id="welcomeModal" class="modal">
        <div class="modal-content" style="position:relative;">
            <button class="modal-close-top" onclick="ui.closeWelcomeModal()"><i class="fas fa-times"></i></button>
            <h3 style="color:var(--neon-purple); font-family:'Cinzel', serif; margin-bottom:15px; font-size:1.6rem;">рЃАрЃўрЃАрЃбрЃћрЃЏрЃљрЃерЃў рЃерЃћрЃдрЃгрЃћрЃЋрЃљ...</h3>
            <p style="color:var(--text-main); font-size:1rem; margin-bottom:20px; line-height:1.5; text-align:left;">
                рЃЏрЃЮрЃњрЃћрЃАрЃљрЃџрЃЏрЃћрЃЉрЃўрЃЌ <strong>SPY - Cyber Noir</strong>-рЃерЃў!<br><br>
                рЃЋрЃ«рЃћрЃЊрЃљрЃЋрЃЌ, рЃарЃЮрЃЏ рЃљрЃЦ рЃърЃўрЃарЃЋрЃћрЃџрЃљрЃЊ рЃ«рЃљрЃарЃЌ (рЃљрЃю рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃў рЃњрЃљрЃљрЃАрЃБрЃцрЃЌрЃљрЃЋрЃћрЃЌ). рЃЌрЃљрЃЏрЃљрЃерЃерЃў рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃБрЃџрЃўрЃљ <strong style="color:var(--neon-blue);">рЃБрЃљрЃЏрЃарЃљрЃЋрЃў рЃљрЃ«рЃљрЃџрЃў рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃарЃЮрЃџрЃў</strong> (рЃАрЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃў, рЃЮрЃарЃЏрЃљрЃњрЃў рЃљрЃњрЃћрЃюрЃбрЃў, рЃ░рЃљрЃЎрЃћрЃарЃў, рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃў), рЃЏрЃЮрЃЊрЃўрЃцрЃўрЃЎрЃљрЃбрЃЮрЃарЃћрЃЉрЃў (рЃЉрЃџрЃћрЃЦрЃљрЃБрЃЌрЃў, рЃўрЃюрЃцрЃћрЃЦрЃфрЃўрЃљ) рЃЊрЃљ рЃћрЃЎрЃЮрЃюрЃЮрЃЏрЃўрЃЎрЃљ.<br><br>
                <strong style="color:var(--warning);">рЃњрЃЌрЃ«рЃЮрЃЋрЃЌ, рЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃЊрЃљрЃгрЃДрЃћрЃЉрЃљрЃЏрЃЊрЃћ рЃљрЃБрЃфрЃўрЃџрЃћрЃЉрЃџрЃљрЃЊ рЃњрЃљрЃћрЃфрЃюрЃЮрЃЌ рЃгрЃћрЃАрЃћрЃЉрЃА рЃЊрЃљ рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў рЃарЃЮрЃџрЃўрЃА рЃЊрЃћрЃбрЃљрЃџрЃБрЃа рЃњрЃљрЃюрЃЏрЃљрЃарЃбрЃћрЃЉрЃљрЃА, рЃарЃљрЃЌрЃљ рЃЌрЃљрЃЏрЃљрЃерЃў рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃЊрЃћрЃА рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮ рЃЊрЃљ рЃЊрЃљрЃФрЃљрЃЉрЃБрЃџрЃў!</strong>
            </p>
            <button class="btn" style="width:100%; background:var(--neon-purple);" onclick="ui.goToRulesFromWelcome()">
                <i class="fas fa-book-open"></i> рЃгрЃћрЃАрЃћрЃЉрЃўрЃА рЃЊрЃљ рЃарЃЮрЃџрЃћрЃЉрЃўрЃА рЃгрЃљрЃЎрЃўрЃЌрЃ«рЃЋрЃљ
            </button>
        </div>
    </div>

    <div id="readyScreen" style="display:none;">
        <div class="ready-content">
            <div class="logo">
                <h1>SPY</h1>
                <p>Cyber Noir Edition</p>
            </div>
            <h2>рЃЏрЃќрЃљрЃЊ рЃ«рЃљрЃарЃЌ?</h2>
            <button class="btn im-ready" onclick="ui.initAudio(); ui.showMainPage()">
                <i class="fas fa-power-off"></i> рЃЊрЃљрЃгрЃДрЃћрЃЉрЃљ
            </button>
        </div>
    </div>

    <div class="particles" id="particles"></div>

    <div id="timerEndSignal" class="timer-end-signal">
        <div class="timer-end-content">
            <i class="fas fa-exclamation-triangle"></i>
            <div>рЃЊрЃарЃЮ рЃљрЃЏрЃЮрЃўрЃгрЃБрЃарЃљ!</div>
        </div>
    </div>

    <div id="burgerMenuBtn" class="burger-menu-btn" onclick="ui.toggleBurgerMenu()">
        <i class="fas fa-bars"></i>
    </div>

    <div id="burgerMenuOverlay" class="burger-overlay" onclick="ui.closeBurgerMenu()"></div>

    <div id="burgerMenuContent" class="burger-menu-content">
        <div class="burger-header">
            <div class="burger-logo">SPY</div>
            <button class="burger-close-btn" onclick="ui.closeBurgerMenu()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        
        <div class="burger-menu-items">
            <div class="burger-section">
                <h4><i class="fas fa-gamepad"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЌрЃљрЃЏрЃљрЃерЃў</h4>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showPlayerInput();">
                    <i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃњрЃЋрЃћрЃарЃЊрЃў
                </button>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); game.startValidation();">
                    <i class="fas fa-play"></i> рЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃЊрЃљрЃгрЃДрЃћрЃЉрЃљ
                </button>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); game.restartGame(false);">
                    <i class="fas fa-redo"></i> рЃљрЃ«рЃљрЃџрЃў рЃЌрЃљрЃЏрЃљрЃерЃў
                </button>
                
                <div style="margin-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 10px;">
                    <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showSystemSettings();">
                        <i class="fas fa-cogs"></i> рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў
                    </button>
                </div>
            </div>
            
            <div class="burger-section">
                <h4><i class="fas fa-store"></i> рЃЏрЃљрЃдрЃљрЃќрЃўрЃљ</h4>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showShop();">
                    <i class="fas fa-shopping-cart"></i> рЃЏрЃљрЃдрЃљрЃќрЃўрЃљ (Shop)
                </button>
            </div>
            
            <div class="burger-section">
                <h4><i class="fas fa-chart-line"></i> рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ</h4>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showStats();">
                    <i class="fas fa-chart-bar"></i> рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ & рЃЏрЃўрЃдрЃгрЃћрЃЋрЃћрЃЉрЃў
                </button>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showChallenges();">
                    <i class="fas fa-tasks"></i> рЃЊрЃдрЃўрЃА рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃћрЃЉрЃў
                </button>
            </div>
            
            <div class="burger-section">
                <h4><i class="fas fa-volume-up"></i> рЃ«рЃЏрЃљ</h4>
                <div class="burger-toggle-item">
                    <span>рЃ«рЃЏрЃўрЃА рЃћрЃцрЃћрЃЦрЃбрЃћрЃЉрЃў</span>
                    <label class="toggle-switch">
                        <input type="checkbox" id="burgerSoundToggle" checked onchange="ui.toggleSound()">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            
            <div class="burger-section">
                <h4><i class="fas fa-info-circle"></i> рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃљ</h4>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showInstructions();">
                    <i class="fas fa-question-circle"></i> рЃгрЃћрЃАрЃћрЃЉрЃў & рЃарЃЮрЃџрЃћрЃЉрЃў
                </button>
                <button class="burger-item" onclick="ui.closeBurgerMenu(); ui.showAbout();">
                    <i class="fas fa-info-circle"></i> рЃЕрЃЋрЃћрЃю рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ
                </button>
            </div>
        </div>
        
        <div class="burger-footer">
            <button class="btn btn-sm btn-danger" onclick="ui.closeBurgerMenu(); state.clearAllData();">
                <i class="fas fa-trash"></i> рЃЏрЃЮрЃюрЃљрЃфрЃћрЃЏрЃћрЃЉрЃўрЃА рЃгрЃљрЃерЃџрЃљ
            </button>
        </div>
    </div>

    <div class="container" id="mainContent" style="display:none;">
        
        <div class="logo-area" id="logoArea">
            <div class="logo">
                <h1>SPY</h1>
                <p class="section-subtitle">Cyber Noir Edition</p>
            </div>
        </div>
        
        <div id="playerInput" class="section active">
            <div class="toggle-container">
                <label>рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃўрЃЌ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ</label>
                <label class="toggle-switch">
                    <input type="checkbox" id="manualEntryToggle" onchange="ui.updateInputMode(true)">
                    <span class="slider"></span>
                </label>
            </div>

            <div id="autoInputContainer" style="display:none;">
                <div class="input-group">
                    <label class="form-label" style="justify-content:center; font-size:1.1rem;">
                        <i class="fas fa-users"></i> рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃћрЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ
                    </label>
                    <div class="player-count-controls">
                        <button class="btn-control minus" onclick="ui.adjustPlayerCount(-1)"><i class="fas fa-minus"></i></button>
                        <input type="number" id="totalPlayersCount" min="3" max="20" value="5" inputmode="numeric" onfocus="this.select()" onchange="ui.updateInputMode(true)" />
                        <button class="btn-control plus" onclick="ui.adjustPlayerCount(1)"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
            </div>

            <div id="manualInputContainer">
                <div class="input-with-button">
                    <input type="text" id="playerName" placeholder="Player Name" />
                    <button class="btn" onclick="ui.addPlayer()">
                        <i class="fas fa-plus"></i> рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ
                    </button>
                </div>
                <div class="player-list" id="playerList"></div>
            </div>
            
            <div id="playersCountInfo" class="players-count-info" style="text-align:center; margin-bottom:15px;">
                рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃћрЃћрЃЉрЃў: <span>0</span>
            </div>

            <div class="start-game-section">
                <button class="btn btn-start-game" onclick="game.startValidation()">
                    <i class="fas fa-play"></i> рЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃЊрЃљрЃгрЃДрЃћрЃЉрЃљ
                </button>
            </div>
        </div>
        
        <div id="shopSection" class="section">
            <div class="section-header-main">
                <h2><i class="fas fa-store"></i> рЃЎрЃўрЃЉрЃћрЃа рЃЏрЃљрЃдрЃљрЃќрЃўрЃљ</h2>
                <p class="section-subtitle">рЃўрЃДрЃўрЃЊрЃћ рЃљрЃЋрЃљрЃбрЃљрЃарЃћрЃЉрЃў рЃЊрЃљ рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃюрЃўрЃЋрЃЌрЃћрЃЉрЃў!</p>
            </div>
            <div class="shop-player-select">
                <label>рЃљрЃўрЃарЃЕрЃўрЃћ рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃћ:</label>
                <select id="shopPlayerSelect" onchange="ui.renderShopItems()"></select>
                <div class="current-balance">
                    рЃЉрЃљрЃџрЃљрЃюрЃАрЃў: <span id="shopBalance">0</span> <i class="fas fa-coins coin-gold"></i>
                </div>
            </div>
            <div class="shop-grid" id="shopItemsGrid"></div>
            <div class="sticky-action-bar">
                <button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button>
            </div>
        </div>

        <div id="systemSettingsSection" class="section">
            <div class="section-header-main">
                <h2><i class="fas fa-cogs"></i> рЃърЃљрЃарЃљрЃЏрЃћрЃбрЃарЃћрЃЉрЃў</h2>
            </div>

            <div class="settings-tabs">
                <button class="tab-btn active" onclick="ui.switchSettingsTab('gameplay')"><i class="fas fa-gamepad"></i> рЃњрЃћрЃўрЃЏрЃърЃџрЃћрЃў</button>
                <button class="tab-btn" onclick="ui.switchSettingsTab('roles')"><i class="fas fa-users"></i> рЃарЃЮрЃџрЃћрЃЉрЃў</button>
                <button class="tab-btn" onclick="ui.switchSettingsTab('content')"><i class="fas fa-palette"></i> рЃЋрЃўрЃќрЃБрЃљрЃџрЃў & рЃЉрЃљрЃќрЃљ</button>
            </div>

            <div id="tab-gameplay" class="tab-content active-tab">
                <div class="input-group">
                    <label class="form-label">рЃФрЃўрЃарЃўрЃЌрЃљрЃЊрЃў рЃарЃћрЃЪрЃўрЃЏрЃў:</label>
                    <div class="game-modes-grid-mini">
                        <div class="game-mode-card-mini active" id="modeStandard" onclick="state.setGameVariant('standard')">
                            <i class="fas fa-user-secret"></i> рЃЎрЃџрЃљрЃАрЃўрЃЎрЃБрЃарЃў
                        </div>
                        <div class="game-mode-card-mini" id="modeChameleon" onclick="state.setGameVariant('chameleon')">
                            <i class="fas fa-random"></i> рЃЦрЃљрЃЏрЃћрЃџрЃћрЃЮрЃюрЃў
                        </div>
                    </div>
                </div>

                <div class="modifiers-container" style="background:rgba(255,255,255,0.03); padding:15px; border-radius:10px; margin-bottom:20px; border:1px solid rgba(255,255,255,0.1);">
                    <label class="form-label" style="color:var(--warning); margin-bottom:15px;"><i class="fas fa-bolt"></i> рЃЏрЃЮрЃЊрЃўрЃцрЃўрЃЎрЃљрЃбрЃЮрЃарЃћрЃЉрЃў (рЃћрЃЦрЃАрЃбрЃарЃћрЃЏрЃљрЃџрЃБрЃарЃў):</label>
                    
                    <div class="toggle-container" style="margin-bottom:10px; padding:10px;">
                        <label>
                            <i class="fas fa-eye-slash" style="color:var(--text-muted)"></i> рЃЉрЃџрЃћрЃЦрЃљрЃБрЃЌрЃў
                            <div class="info-tooltip" tabindex="0" style="margin-left:5px; display:inline-block;"><i class="fas fa-info-circle"></i><span class="tooltip-text">рЃарЃЮрЃџрЃћрЃЉрЃўрЃА рЃЊрЃљрЃцрЃљрЃарЃЋрЃљ рЃЊрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃў рЃарЃћрЃюрЃЊрЃЮрЃЏрЃўрЃќрЃљрЃфрЃўрЃљ.</span></div>
                        </label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="modBlackout" onchange="state.updateConfig('modifierBlackout', this.checked); ui.toggleBlackoutSettings();">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div id="blackoutRolesSettings" style="display:none; margin: 0 10px 10px 10px; padding:15px; background:rgba(0,0,0,0.4); border-radius:10px; border:1px solid rgba(255,255,255,0.1);">
                        <label style="font-size:0.85rem; color:var(--text-muted); display:block; margin-bottom:10px;">рЃљрЃЦ рЃЏрЃЮрЃюрЃўрЃерЃюрЃБрЃџрЃў рЃарЃЮрЃџрЃћрЃЉрЃўрЃЊрЃљрЃю рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌрЃљрЃЊ рЃЊрЃљрЃарЃўрЃњрЃЊрЃћрЃЉрЃљ рЃАрЃърЃћрЃф-рЃарЃЮрЃџрЃћрЃЉрЃў (рЃ»рЃљрЃерЃБрЃерЃў рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃљрЃарЃўрЃА):</label>
                        <div class="blackout-roles-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px; font-size:0.9rem;">
                            <label><input type="checkbox" value="Detective" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃў</label>
                            <label><input type="checkbox" id="blackoutAssassin" value="Assassin" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃў</label>
                            <label><input type="checkbox" value="Doctor" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃћрЃЦрЃўрЃЏрЃў</label>
                            <label><input type="checkbox" value="Joker" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃ»рЃЮрЃЎрЃћрЃарЃў</label>
                            <label><input type="checkbox" value="Syndicate" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃАрЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃў</label>
                            <label><input type="checkbox" value="Hacker" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃ░рЃљрЃЎрЃћрЃарЃў</label>
                            <label><input type="checkbox" value="DoubleAgent" onchange="state.toggleBlackoutRole(this.value, this.checked)"> рЃЮрЃарЃЏрЃљрЃњрЃў рЃљрЃњрЃћрЃюрЃбрЃў</label>
                        </div>
                    </div>

                    <div class="toggle-container" style="margin-bottom:0; padding:10px;">
                        <label>
                            <i class="fas fa-virus" style="color:var(--hacker-green)"></i> рЃЋрЃўрЃарЃБрЃАрЃБрЃџрЃў рЃўрЃюрЃцрЃћрЃЦрЃфрЃўрЃљ
                            <div class="info-tooltip" tabindex="0" style="margin-left:5px; display:inline-block;"><i class="fas fa-info-circle"></i><span class="tooltip-text">рЃЌрЃБ рЃ»рЃљрЃерЃБрЃерЃў рЃўрЃњрЃћрЃЉрЃА, рЃўрЃюрЃцрЃћрЃЦрЃфрЃўрЃљ рЃЋрЃарЃфрЃћрЃџрЃЊрЃћрЃЉрЃљ.</span></div>
                        </label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="modInfection" onchange="state.updateConfig('modifierInfection', this.checked)">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="input-group">
                    <label class="form-label"><i class="fas fa-clock"></i> рЃЊрЃарЃЮ (рЃгрЃБрЃЌрЃћрЃЉрЃў):</label>
                    <input type="number" id="timeConfig" min="0.5" max="15" step="0.5" value="2" onchange="state.updateConfig('timePerRound', Math.round(this.value * 60))">
                </div>

                <div class="input-group">
                    <label class="form-label"><i class="fas fa-star-half-alt"></i> рЃЦрЃБрЃџрЃћрЃЉрЃўрЃА рЃАрЃўрЃАрЃбрЃћрЃЏрЃљ:</label>
                    <select id="pointsSystem" onchange="state.updateConfig('pointsSystem', this.value)">
                        <option value="enabled">рЃЕрЃљрЃарЃЌрЃЋрЃљ</option>
                        <option value="disabled" selected>рЃњрЃљрЃЏрЃЮрЃарЃЌрЃЋрЃљ</option>
                    </select>
                </div>

                <div class="input-group">
                    <label class="form-label"><i class="fas fa-random"></i> рЃарЃўрЃњрЃў:</label>
                    <select id="playerOrder" onchange="state.updateConfig('playerOrder', this.value)">
                        <option value="sequential" selected>рЃЌрЃљрЃюрЃЏрЃўрЃЏрЃЊрЃћрЃЋрЃарЃЮрЃЉрЃўрЃЌ</option>
                        <option value="random">рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌрЃў</option>
                    </select>
                </div>

                <div class="toggle-container" style="padding:10px;">
                    <label><i class="fas fa-lightbulb"></i> рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃЏрЃўрЃюрЃўрЃерЃюрЃћрЃЉрЃљ</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="spyHintToggle" onchange="state.updateConfig('spyHintEnabled', this.checked)">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div id="tab-roles" class="tab-content">
                <div class="roles-grid-container">
                    
                    <div class="role-setting-item">
                        <div class="role-label-group">
                            <label><i class="fas fa-user-secret" style="color:var(--neon-pink)"></i> рЃ»рЃљрЃерЃБрЃерЃў</label>
                        </div>
                        <select id="spyCountConfig" onchange="state.updateConfig('spyCount', this.value)">
                            <option value="1">1 рЃ»рЃљрЃерЃБрЃерЃў</option><option value="2">2 рЃ»рЃљрЃерЃБрЃерЃў</option><option value="3">3 рЃ»рЃљрЃерЃБрЃерЃў</option>
                        </select>
                    </div>

                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-search" style="color:var(--neon-blue)"></i> рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃў</label></div>
                        <select id="detectiveCount" onchange="state.updateConfig('detectiveCount', this.value)">
                            <option value="0" selected>0</option><option value="1">1 рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃў</option><option value="2">2 рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃў</option>
                        </select>
                    </div>
                    
                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-skull-crossbones"></i> рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃў</label></div>
                        <select id="assassinCount" onchange="state.updateConfig('assassinCount', this.value)"><option value="0" selected>0</option><option value="1">1 рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃў</option></select>
                    </div>

                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-user-md"></i> рЃћрЃЦрЃўрЃЏрЃў</label></div>
                        <select id="doctorCount" onchange="state.updateConfig('doctorCount', this.value)"><option value="0" selected>0</option><option value="1">1 рЃћрЃЦрЃўрЃЏрЃў</option></select>
                    </div>

                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-theater-masks"></i> рЃ»рЃЮрЃЎрЃћрЃарЃў</label></div>
                        <select id="jokerCount" onchange="state.updateConfig('jokerCount', this.value)"><option value="0" selected>0</option><option value="1">1 рЃ»рЃЮрЃЎрЃћрЃарЃў</option></select>
                    </div>
                    
                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-user-friends" style="color:#ff00ff"></i> рЃАрЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃў</label></div>
                        <select id="syndicateCount" onchange="state.updateConfig('syndicateCount', this.value)"><option value="0" selected>0</option><option value="2">2 рЃАрЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃў</option></select>
                    </div>
                    
                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-laptop-code" style="color:var(--hacker-green)"></i> рЃ░рЃљрЃЎрЃћрЃарЃў</label></div>
                        <select id="hackerCount" onchange="state.updateConfig('hackerCount', this.value)"><option value="0" selected>0</option><option value="1">1 рЃ░рЃљрЃЎрЃћрЃарЃў</option></select>
                    </div>
                    
                    <div class="role-setting-item">
                        <div class="role-label-group"><label><i class="fas fa-user-ninja" style="color:var(--warning)"></i> рЃЮрЃарЃЏрЃљрЃњрЃў рЃљрЃњрЃћрЃюрЃбрЃў</label></div>
                        <select id="doubleAgentCount" onchange="state.updateConfig('doubleAgentCount', this.value)"><option value="0" selected>0</option><option value="1">1 рЃЮрЃарЃЏрЃљрЃњрЃў рЃљрЃњрЃћрЃюрЃбрЃў</option></select>
                    </div>

                </div>
            </div>

            <div id="tab-content" class="tab-content">
                <div class="input-group">
                    <label class="form-label"><i class="fas fa-palette"></i> рЃЋрЃўрЃќрЃБрЃљрЃџрЃБрЃарЃў рЃЌрЃћрЃЏрЃљ:</label>
                    <select id="themeSelect" onchange="state.updateConfig('theme', this.value)">
                        <option value="standard" selected>рЃАрЃбрЃљрЃюрЃЊрЃљрЃарЃбрЃБрЃџрЃў</option>
                        <option value="halloween">­ЪјЃ Halloween</option>
                        <option value="christmas">­Ъјё Christmas</option>
                        <option value="cyberpunk">­Ъцќ Cyberpunk</option>
                        <option value="fantasy">­ЪЈ░ Fantasy</option>
                    </select>
                </div>
                
                <div class="categories-wrapper" style="margin-top:20px;">
                    <label class="form-label"><i class="fas fa-list"></i> рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃћрЃЉрЃў:</label>
                    <div class="categories-container-full" id="categoriesContainer"></div>
                </div>
                
                <div class="custom-words-container" style="margin-top:20px; background:rgba(0,0,0,0.4); padding:15px; border-radius:10px; border:1px solid var(--neon-purple);">
                    <label class="form-label"><i class="fas fa-pen-nib"></i> рЃерЃћрЃюрЃў рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃЉрЃљрЃќрЃљ (Custom):</label>
                    <textarea id="customWordsInput" rows="3" style="width:100%; background:rgba(0,0,0,0.5); border:1px solid rgba(255,255,255,0.2); color:#fff; padding:10px; border-radius:8px;" placeholder="рЃЕрЃљрЃгрЃћрЃарЃћ рЃАрЃўрЃбрЃДрЃЋрЃћрЃЉрЃў рЃЏрЃФрЃўрЃЏрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃДрЃЮрЃцрЃўрЃџрЃў (рЃЏрЃљрЃњ: рЃЏрЃљрЃюрЃЦрЃљрЃюрЃљ, рЃбрЃћрЃџрЃћрЃцрЃЮрЃюрЃў...)" onchange="state.updateConfig('customWordsList', this.value)"></textarea>
                </div>
            </div>

            <div class="sticky-action-bar">
                <button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button>
            </div>
        </div>

        <div id="statsSection" class="section">
            <div class="section-header-main">
                <h2><i class="fas fa-chart-bar"></i> рЃАрЃбрЃљрЃбрЃўрЃАрЃбрЃўрЃЎрЃљ & рЃЏрЃўрЃдрЃгрЃћрЃЋрЃћрЃЉрЃў</h2>
            </div>
            <div id="statsContent" class="stats-content"></div>
            
            <h3 style="margin-top:30px; font-family:'Orbitron', sans-serif; color:var(--gold); text-align:center;">рЃњрЃџрЃЮрЃЉрЃљрЃџрЃБрЃарЃў рЃЏрЃўрЃдрЃгрЃћрЃЋрЃћрЃЉрЃў</h3>
            <div id="achievementsGrid" class="achievements-grid" style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:15px;"></div>
            
            <div class="sticky-action-bar">
                <button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button>
            </div>
        </div>

        <div id="challengesSection" class="section">
            <div class="section-header-main">
                <h2><i class="fas fa-tasks"></i> рЃЊрЃдрЃўрЃА рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃћрЃЉрЃў</h2>
            </div>
            <div class="challenges-container" id="challengesContainer"></div>
            <div class="sticky-action-bar">
                <button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button>
            </div>
        </div>

        <div id="instructionsSection" class="section">
            <div class="section-header-main">
                <h2><i class="fas fa-book-open"></i> рЃгрЃћрЃАрЃћрЃЉрЃў & рЃарЃЮрЃџрЃћрЃЉрЃў</h2>
            </div>
            
            <div class="instructions-content" style="text-align:left;">
                 <div class="inst-step">
                    <i class="fas fa-check"></i> <strong>рЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЏрЃўрЃќрЃљрЃюрЃў:</strong><br>
                    рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃћрЃћрЃЉрЃў рЃљрЃЏрЃЉрЃЮрЃЉрЃћрЃю рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃљрЃАрЃЌрЃљрЃю рЃЏрЃўрЃљрЃ«рЃџрЃЮрЃћрЃЉрЃБрЃџ рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃА рЃАрЃўрЃбрЃДрЃЋрЃћрЃЉрЃА. рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃўрЃА рЃЏрЃўрЃќрЃљрЃюрЃўрЃљ рЃўрЃърЃЮрЃЋрЃЮрЃю рЃ»рЃљрЃерЃБрЃерЃў, рЃ«рЃЮрЃџрЃЮ рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃЏрЃўрЃќрЃљрЃюрЃўрЃљ рЃЊрЃљрЃарЃЕрЃћрЃА рЃерЃћрЃБрЃЏрЃЕрЃюрЃћрЃЋрЃћрЃџрЃў рЃљрЃю рЃњрЃљрЃЏрЃЮрЃўрЃфрЃюрЃЮрЃА рЃарЃљ рЃљрЃарЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃљ!
                 </div>
                 
                 <div class="inst-step" style="border-color: var(--neon-blue);">
                    <i class="fas fa-bolt"></i> <strong>рЃЏрЃЮрЃЊрЃўрЃцрЃўрЃЎрЃљрЃбрЃЮрЃарЃћрЃЉрЃў:</strong><br>
                    <span style="color:var(--text-muted)">рЃЉрЃџрЃћрЃЦрЃљрЃБрЃЌрЃў:</span> рЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃЊрЃљрЃАрЃљрЃгрЃДрЃўрЃАрЃерЃў рЃЊрЃљ рЃ«рЃЏрЃўрЃА рЃЏрЃўрЃфрЃћрЃЏрЃўрЃАрЃљрЃА рЃарЃЮрЃџрЃћрЃЉрЃўрЃАрЃљ рЃЊрЃљ рЃ»рЃљрЃерЃБрЃерЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ рЃЊрЃљрЃЏрЃљрЃџрЃБрЃџрЃўрЃљ. рЃЏрЃЮрЃюрЃўрЃерЃюрЃБрЃџрЃў рЃАрЃърЃћрЃф-рЃарЃЮрЃџрЃћрЃЉрЃў рЃарЃўрЃњрЃЊрЃћрЃЉрЃљ рЃАрЃарЃБрЃџрЃў рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌрЃЮрЃЉрЃўрЃА рЃърЃарЃўрЃюрЃфрЃўрЃърЃўрЃЌ (рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃўрЃДрЃЮрЃА рЃЌрЃљрЃЏрЃљрЃерЃерЃў, рЃерЃћрЃўрЃФрЃџрЃћрЃЉрЃљ рЃљрЃарЃљ!). рЃћрЃА рЃЦрЃЏрЃюрЃўрЃА рЃАрЃарЃБрЃџ рЃърЃљрЃарЃљрЃюрЃЮрЃўрЃљрЃА.<br>
                    <span style="color:var(--hacker-green)">рЃўрЃюрЃцрЃћрЃЦрЃфрЃўрЃљ:</span> рЃЌрЃБ рЃ»рЃљрЃерЃБрЃерЃў рЃЏрЃЮрЃўрЃњрЃћрЃЉрЃА рЃарЃљрЃБрЃюрЃЊрЃА, рЃерЃћрЃЏрЃЊрЃћрЃњ рЃЌрЃљрЃЏрЃљрЃерЃерЃў "рЃЋрЃўрЃарЃБрЃАрЃў" рЃЋрЃарЃфрЃћрЃџрЃЊрЃћрЃЉрЃљ рЃЊрЃљ рЃ»рЃљрЃерЃБрЃерЃћрЃЉрЃўрЃА рЃарЃљрЃЮрЃЊрЃћрЃюрЃЮрЃЉрЃљ рЃљрЃЋрЃбрЃЮрЃЏрЃљрЃбрЃБрЃарЃљрЃЊ рЃўрЃќрЃарЃЊрЃћрЃЉрЃљ 1-рЃўрЃЌ! рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃЏрЃљ рЃАрЃљрЃАрЃгрЃарЃљрЃцрЃЮрЃЊ рЃБрЃюрЃЊрЃљ рЃерЃћрЃљрЃЕрЃћрЃарЃЮрЃю рЃўрЃАрЃўрЃюрЃў.
                 </div>

                 <h4 style="margin: 30px 0 15px; color:var(--neon-purple); text-align:center; font-family:'Cinzel', serif; font-size:1.5rem;">рЃАрЃърЃћрЃфрЃўрЃљрЃџрЃБрЃарЃў рЃарЃЮрЃџрЃћрЃЉрЃў</h4>

                 <div class="inst-cards-container">
                    
                    <div class="inst-card detektivi-card">
                        <div class="inst-icon"><i class="fas fa-search"></i></div>
                        <div class="inst-info">
                            <h5>рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃў (Counter-Intel)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃўрЃърЃЮрЃЋрЃЮрЃА рЃ»рЃљрЃерЃБрЃерЃў рЃАрЃўрЃцрЃарЃЌрЃ«рЃўрЃџрЃўрЃЌ.<br>
                            рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃў рЃћрЃарЃЌрЃљрЃЊрЃћрЃарЃЌрЃў рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃљ, рЃарЃЮрЃЏрЃћрЃџрЃЏрЃљрЃф рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃўрЃА рЃњрЃљрЃарЃЊрЃљ рЃўрЃфрЃўрЃА <strong>рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃЏрЃўрЃюрЃўрЃерЃюрЃћрЃЉрЃљрЃф</strong> (рЃўрЃА рЃАрЃўрЃбрЃДрЃЋрЃљ, рЃарЃљрЃАрЃљрЃф рЃ»рЃљрЃерЃБрЃерЃў рЃ«рЃћрЃЊрЃљрЃЋрЃА). рЃЊрЃћрЃбрЃћрЃЦрЃбрЃўрЃЋрЃЏрЃљ рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃљрЃЎрЃЋрЃўрЃарЃЊрЃћрЃА, рЃЋрЃўрЃю рЃАрЃЋрЃљрЃЏрЃА рЃЎрЃўрЃЌрЃ«рЃЋрЃћрЃЉрЃА рЃљрЃЏ рЃЏрЃўрЃюрЃўрЃерЃюрЃћрЃЉрЃљрЃќрЃћ рЃЊрЃљрЃДрЃарЃЊрЃюрЃЮрЃЉрЃўрЃЌ. рЃЌрЃБрЃЏрЃфрЃљ рЃцрЃарЃЌрЃ«рЃўрЃџрЃљрЃЊ рЃБрЃюрЃЊрЃљ рЃўрЃДрЃЮрЃА РђЊ рЃЌрЃБ рЃЌрЃљрЃЋрЃў рЃњрЃљрЃЌрЃЦрЃЋрЃљ, рЃ»рЃљрЃерЃБрЃерЃў рЃљрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃЏрЃўрЃ«рЃЋрЃЊрЃћрЃЉрЃљ рЃАрЃўрЃбрЃДрЃЋрЃљрЃА.</p>
                        </div>
                    </div>

                    <div class="inst-card joker-card">
                        <div class="inst-icon"><i class="fas fa-theater-masks"></i></div>
                        <div class="inst-info">
                            <h5>рЃ»рЃЮрЃЎрЃћрЃарЃў (The Trickster)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃњрЃљрЃљрЃњрЃЊрЃЮрЃю рЃЌрЃљрЃЏрЃљрЃерЃўрЃЊрЃљрЃю!<br>
                            рЃ»рЃЮрЃЎрЃћрЃарЃЏрЃљ рЃўрЃфрЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃљ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЏрЃўрЃАрЃў рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЊрЃљрЃЋрЃљрЃџрЃћрЃЉрЃљрЃљ, <strong>рЃЊрЃљрЃљрЃЉрЃюрЃўрЃЮрЃА рЃДрЃЋрЃћрЃџрЃљ рЃЊрЃљ рЃЏрЃЮрЃљрЃЕрЃЋрЃћрЃюрЃЮрЃА рЃЌрЃљрЃЋрЃў рЃ»рЃљрЃерЃБрЃерЃљрЃЊ</strong>. рЃЏрЃљрЃю рЃБрЃюрЃЊрЃљ рЃАрЃЋрЃљрЃА рЃўрЃАрЃћрЃЌрЃў рЃАрЃљрЃћрЃГрЃЋрЃЮ рЃЎрЃўрЃЌрЃ«рЃЋрЃћрЃЉрЃў, рЃарЃЮрЃЏ рЃАрЃљрЃЉрЃЮрЃџрЃЮрЃЮ рЃЎрЃћрЃюрЃГрЃўрЃАрЃДрЃарЃљрЃќрЃћ рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃЏрЃљ рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃюрЃљрЃфрЃЋрЃџрЃљрЃЊ рЃўрЃА рЃљрЃўрЃарЃЕрЃўрЃЮрЃю. рЃЌрЃБ рЃћрЃА рЃЏрЃЮрЃ«рЃЊрЃћрЃЉрЃљ, <strong>рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃ»рЃЮрЃЎрЃћрЃарЃў рЃўрЃњрЃћрЃЉрЃА рЃЌрЃљрЃЏрЃљрЃерЃА!</strong></p>
                        </div>
                    </div>

                    <div class="inst-card assassin-card">
                        <div class="inst-icon"><i class="fas fa-skull-crossbones"></i></div>
                        <div class="inst-info">
                            <h5>рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃў (The Assassin)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃЊрЃљрЃћрЃ«рЃЏрЃљрЃарЃЮрЃА рЃ»рЃљрЃерЃБрЃерЃА рЃњрЃљрЃЊрЃљрЃарЃЕрЃћрЃюрЃљрЃерЃў.<br>
                            рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃў рЃљрЃарЃўрЃА рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃцрЃљрЃарЃБрЃџрЃў рЃЏрЃЮрЃЎрЃљрЃЋрЃерЃўрЃарЃћ. рЃЏрЃљрЃю рЃўрЃфрЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃљ рЃЊрЃљ <strong>рЃЌрЃљрЃЋрЃўрЃА рЃЉрЃљрЃарЃљрЃЌрЃќрЃћ рЃБрЃгрЃћрЃарЃўрЃљ рЃќрЃБрЃАрЃбрЃљрЃЊ рЃЋрЃўрЃю рЃљрЃарЃўрЃА рЃ»рЃљрЃерЃБрЃерЃў</strong>. рЃЏрЃўрЃАрЃў рЃЋрЃљрЃџрЃўрЃљ, рЃћрЃГрЃЋрЃћрЃЉрЃў рЃАрЃ«рЃЋрЃљ рЃБрЃЊрЃљрЃюрЃљрЃерЃљрЃБрЃџрЃЮ рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃћрЃћрЃЉрЃўрЃАрЃЎрЃћрЃю рЃЏрЃўрЃЏрЃљрЃарЃЌрЃЮрЃА рЃљрЃю рЃЌрЃБрЃюрЃЊрЃљрЃф рЃАрЃљрЃЎрЃБрЃЌрЃљрЃарЃў рЃЌрЃљрЃЋрЃў рЃњрЃљрЃгрЃўрЃарЃЮрЃА, рЃарЃљрЃЌрЃљ рЃ»рЃљрЃерЃБрЃерЃў рЃљрЃа рЃњрЃљрЃЏрЃЮрЃљрЃерЃЎрЃљрЃарЃљрЃЋрЃЊрЃћрЃА. <br><em style="color:#aaa; font-size:0.75rem;">(рЃерЃћрЃюрЃўрЃерЃЋрЃюрЃљ: рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃўрЃА рЃарЃЮрЃџрЃў рЃўрЃарЃЌрЃЋрЃћрЃЉрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃЏрЃљрЃерЃўрЃю, рЃарЃЮрЃфрЃљ "рЃАрЃљрЃ«рЃћрЃџрЃўрЃЌ рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃљ" рЃЕрЃљрЃарЃЌрЃБрЃџрЃўрЃљ).</em></p>
                        </div>
                    </div>

                    <div class="inst-card doctor-card">
                        <div class="inst-icon"><i class="fas fa-user-md"></i></div>
                        <div class="inst-info">
                            <h5>рЃћрЃЦрЃўрЃЏрЃў (The Healer)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃЊрЃљрЃўрЃфрЃЋрЃљрЃА рЃЏрЃерЃЋрЃўрЃЊрЃЮрЃЉрЃўрЃљрЃюрЃў рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃў.<br>
                            рЃћрЃЦрЃўрЃЏрЃЏрЃљ рЃўрЃфрЃўрЃА рЃАрЃўрЃбрЃДрЃЋрЃљ. рЃЏрЃўрЃАрЃў рЃЏрЃўрЃАрЃўрЃљрЃљ рЃАрЃгрЃЮрЃарЃў рЃљрЃюрЃљрЃџрЃўрЃќрЃў рЃЊрЃљ рЃњрЃБрЃюрЃЊрЃўрЃА рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ. рЃЏрЃљрЃю рЃБрЃюрЃЊрЃљ рЃЊрЃљрЃўрЃфрЃЋрЃљрЃА рЃњрЃБрЃюрЃЊрЃў рЃАрЃљрЃЉрЃћрЃЊрЃўрЃАрЃгрЃћрЃарЃЮ рЃерЃћрЃфрЃЊрЃЮрЃЏрЃўрЃАрЃњрЃљрЃю - рЃљрЃа рЃЊрЃљрЃБрЃерЃЋрЃљрЃА рЃ»рЃЮрЃЎрЃћрЃарЃўрЃА рЃљрЃю рЃАрЃ«рЃЋрЃљ рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃўрЃА рЃњрЃљрЃњрЃЊрЃћрЃЉрЃљ. рЃЏрЃљрЃю рЃБрЃюрЃЊрЃљ рЃерЃћрЃЏрЃЮрЃўрЃбрЃљрЃюрЃЮрЃА рЃџрЃЮрЃњрЃўрЃЎрЃљ рЃЎрЃљрЃЏрЃљрЃЌрЃерЃў рЃЊрЃљ рЃњрЃљрЃЊрЃљрЃљрЃарЃЕрЃўрЃюрЃЮрЃА рЃБрЃЊрЃљрЃюрЃљрЃерЃљрЃБрЃџрЃЮрЃћрЃЉрЃў.</p>
                        </div>
                    </div>

                    <div class="inst-card syndicate-card">
                        <div class="inst-icon"><i class="fas fa-user-friends"></i></div>
                        <div class="inst-info">
                            <h5>рЃАрЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃў (The Syndicate)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃўрЃА рЃњрЃљрЃЏрЃљрЃарЃ»рЃЋрЃћрЃЉрЃљ рЃЎрЃЮрЃЮрЃарЃЊрЃўрЃюрЃљрЃфрЃўрЃўрЃЌ.<br>
                            рЃАрЃўрЃюрЃЊрЃўрЃЎрЃљрЃбрЃў рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃерЃћрЃЊрЃњрЃћрЃЉрЃљ <strong>рЃЮрЃарЃў рЃЏрЃЮрЃЌрЃљрЃЏрЃљрЃерЃўрЃАрЃњрЃљрЃю</strong>. рЃЮрЃарЃўрЃЋрЃћрЃЏ рЃўрЃфрЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃљ рЃЊрЃљ рЃЌрЃљрЃЋрЃўрЃљрЃюрЃЌ рЃЉрЃљрЃарЃљрЃЌрЃќрЃћ рЃБрЃгрЃћрЃарЃўрЃљрЃЌ <strong>рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃўрЃА рЃАрЃљрЃ«рЃћрЃџрЃў</strong>. рЃЏрЃљрЃЌ рЃќрЃБрЃАрЃбрЃљрЃЊ рЃўрЃфрЃўрЃљрЃю, рЃарЃЮрЃЏ рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃА 100%-рЃўрЃЌ рЃБрЃюрЃЊрЃљ рЃћрЃюрЃЊрЃЮрЃю. рЃЏрЃљрЃЌ рЃерЃћрЃБрЃФрЃџрЃўрЃљрЃЌ рЃћрЃарЃЌрЃљрЃЊ рЃерЃћрЃўрЃЏрЃБрЃерЃљрЃЮрЃю рЃАрЃбрЃарЃљрЃбрЃћрЃњрЃўрЃљ рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃЎрЃБрЃЌрЃ«рЃћрЃерЃў рЃЏрЃЮрЃАрЃљрЃЏрЃгрЃДрЃЋрЃЊрЃћрЃЋрЃљрЃЊ.</p>
                        </div>
                    </div>
                    
                    <div class="inst-card hacker-card">
                        <div class="inst-icon"><i class="fas fa-laptop-code"></i></div>
                        <div class="inst-info">
                            <h5>рЃ░рЃљрЃЎрЃћрЃарЃў (Netrunner)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃАрЃўрЃАрЃбрЃћрЃЏрЃўрЃА рЃЊрЃљрЃфрЃЋрЃљ рЃЊрЃљ рЃЮрЃарЃЏрЃљрЃњрЃў рЃ«рЃЏрЃљ.<br>
                            рЃ░рЃљрЃЎрЃћрЃарЃў рЃљрЃарЃўрЃА рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃўрЃА рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃФрЃџрЃўрЃћрЃарЃў рЃўрЃљрЃарЃљрЃдрЃў рЃЎрЃћрЃюрЃГрЃўрЃАрЃДрЃарЃўрЃАрЃљрЃА. рЃЏрЃљрЃю рЃўрЃфрЃўрЃА рЃАрЃўрЃбрЃДрЃЋрЃљ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЏрЃўрЃАрЃў рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃърЃарЃўрЃЋрЃўрЃџрЃћрЃњрЃўрЃљ рЃўрЃАрЃљрЃљ, рЃарЃЮрЃЏ рЃЌрЃљрЃЏрЃљрЃерЃўрЃА рЃЉрЃЮрЃџрЃЮрЃА рЃЏрЃўрЃАрЃў рЃљрЃќрЃарЃў (рЃ«рЃЏрЃљ) <strong>рЃЮрЃарЃљрЃЊ рЃўрЃЌрЃЋрЃџрЃћрЃЉрЃљ</strong>. рЃљрЃЏрЃљрЃАрЃЌрЃљрЃю, рЃ░рЃљрЃЎрЃћрЃарЃў рЃўрЃдрЃћрЃЉрЃА рЃЊрЃљрЃЏрЃљрЃбрЃћрЃЉрЃўрЃЌ рЃњрЃљрЃЏрЃЮрЃфрЃЊрЃўрЃџрЃћрЃЉрЃљрЃА (XP) рЃЏрЃЮрЃњрЃћрЃЉрЃўрЃАрЃљрЃА.</p>
                        </div>
                    </div>
                    
                    <div class="inst-card doubleagent-card">
                        <div class="inst-icon"><i class="fas fa-user-ninja"></i></div>
                        <div class="inst-info">
                            <h5>рЃЮрЃарЃЏрЃљрЃњрЃў рЃљрЃњрЃћрЃюрЃбрЃў (Double Agent)</h5>
                            <p><strong>рЃЏрЃўрЃќрЃљрЃюрЃў:</strong> рЃЉрЃарЃЏрЃљ рЃЊрЃљрЃ«рЃЏрЃљрЃарЃћрЃЉрЃљ рЃ»рЃљрЃерЃБрЃерЃўрЃАрЃЌрЃЋрЃўрЃА.<br>
                            рЃЮрЃарЃЏрЃљрЃњрЃў рЃљрЃњрЃћрЃюрЃбрЃў рЃЌрЃљрЃЏрЃљрЃерЃЮрЃЉрЃА рЃ»рЃљрЃерЃБрЃерЃўрЃА рЃњрЃБрЃюрЃЊрЃерЃў (рЃБрЃюрЃЊрЃљ рЃарЃЮрЃЏ рЃ»рЃљрЃерЃБрЃерЃЏрЃљ рЃЏрЃЮрЃўрЃњрЃЮрЃА). рЃЏрЃљрЃю рЃўрЃфрЃўрЃА рЃАрЃљрЃўрЃЊрЃБрЃЏрЃџрЃЮ рЃАрЃўрЃбрЃДрЃЋрЃљ, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃЏрЃЎрЃЋрЃџрЃћрЃџрЃўрЃАрЃњрЃљрЃю рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃўрЃЌ, <strong>рЃљрЃа рЃўрЃфрЃўрЃА рЃЋрЃўрЃю рЃљрЃарЃўрЃА рЃ»рЃљрЃерЃБрЃерЃў!</strong> рЃЏрЃљрЃю рЃЉрЃарЃЏрЃљрЃЊ рЃБрЃюрЃЊрЃљ рЃљрЃБрЃарЃўрЃЮрЃА рЃАрЃўрЃбрЃБрЃљрЃфрЃўрЃљ, рЃЊрЃљрЃљрЃЉрЃюрЃўрЃЮрЃА рЃЏрЃЮрЃЦрЃљрЃџрЃљрЃЦрЃћрЃћрЃЉрЃў, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃФрЃљрЃџрЃўрЃљрЃю рЃцрЃарЃЌрЃ«рЃўрЃџрЃљрЃЊ РђЊ рЃўрЃАрЃћ рЃарЃЮрЃЏ рЃерЃћрЃЏрЃЌрЃ«рЃЋрЃћрЃЋрЃўрЃЌ рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃў рЃ»рЃљрЃерЃБрЃерЃў рЃљрЃа рЃњрЃљрЃљрЃњрЃЊрЃЮрЃА.</p>
                        </div>
                    </div>

                 </div>
            </div>
            
            <div class="sticky-action-bar">
                <button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button>
            </div>
        </div>

        <div id="aboutSection" class="section">
            <div class="section-header-main"><h2><i class="fas fa-info-circle"></i> рЃЕрЃЋрЃћрЃю рЃерЃћрЃАрЃљрЃ«рЃћрЃЉ</h2></div>
            <div class="about-content">
                <div class="about-logo">SPY</div>
                <p>Cyber Noir Edition v5.5</p>
                <p style="font-size:0.8rem; color:var(--text-muted);">Ultimate Dynamic Update</p>
            </div>
            <div class="sticky-action-bar"><button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button></div>
        </div>

        <div id="roleSection" class="section">
            <div class="player-turn" id="playerTurn"></div>
            <div class="role-card" id="roleCard" onclick="ui.revealRole()">
                <div class="role-card-inner">
                    <div class="role-card-front" id="roleCardFront"></div>
                    <div class="role-card-back" id="roleCardBack"></div>
                </div>
            </div>
            <div id="currentPlayer" class="current-player"></div>
            <button class="btn next-player-btn" id="nextPlayerBtn" onclick="game.nextPlayer()" style="display:none; margin-top:20px;"><i class="fas fa-arrow-right"></i> рЃерЃћрЃЏрЃЊрЃћрЃњрЃў</button>
        </div>
        <div id="gameSection" class="section">
            <div class="points-display" id="pointsDisplay"></div>
            <div class="timer-container"><div class="timer" id="timer">02:00</div></div>
            <div class="helper-box"><button class="btn btn-helper" onclick="game.generateHelperQuestion()"><i class="fas fa-question-circle"></i> рЃЎрЃўрЃЌрЃ«рЃЋрЃљ</button><div class="helper-text" id="helperText"></div></div>
            <div class="game-controls"><button class="btn btn-danger" onclick="game.endGame()"><i class="fas fa-flag"></i> рЃЊрЃљрЃАрЃарЃБрЃџрЃћрЃЉрЃљ</button></div>
        </div>
        <div id="findSpySection" class="section">
            <div class="result-display">
                <div class="result-title" id="findSpyTitle">рЃЋрЃўрЃю рЃљрЃарЃўрЃА рЃ»рЃљрЃерЃБрЃерЃў?</div>
                <p id="findSpyDescription">рЃЊрЃљрЃљрЃцрЃўрЃЦрЃАрЃўрЃарЃћрЃЌ рЃЌрЃЦрЃЋрЃћрЃюрЃў рЃћрЃГрЃЋрЃў:</p>
                <select id="findSpySelect"></select>
            </div>
            <div class="controls"><button class="btn" id="submitVoteBtn" onclick="game.makePlayerGuess()"><i class="fas fa-check-circle"></i> рЃљрЃарЃЕрЃћрЃЋрЃљ</button></div>
        </div>
        <div id="resultSection" class="section">
            <div class="result-display">
                <div class="result-title">рЃЌрЃљрЃЏрЃљрЃерЃў рЃЊрЃљрЃАрЃарЃБрЃџрЃЊрЃљ</div>
                <div id="resultText"></div>
                <div id="resultDisplay"></div>
                <div id="wordDisplay" class="word-reveal"></div>
            </div>
            <div class="controls result-buttons">
                <button class="btn btn-secondary" onclick="game.restartGame(true)"><i class="fas fa-redo"></i> рЃљрЃ«рЃљрЃџрЃў рЃарЃљрЃБрЃюрЃЊрЃў</button>
                <button class="btn" id="showPointsBtn" onclick="ui.showFinalPoints()"><i class="fas fa-trophy"></i> рЃЦрЃБрЃџрЃћрЃЉрЃў / XP</button>
                <button class="btn" onclick="ui.showPlayerInput()"><i class="fas fa-home"></i> рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў</button>
            </div>
        </div>
    </div>

    <div id="finalPointsModal" class="modal">
        <div class="modal-content">
            <h3>рЃерЃћрЃЊрЃћрЃњрЃћрЃЉрЃў & XP</h3>
            <div id="finalPointsContent"></div>
            <button class="btn" onclick="ui.closeModal('finalPointsModal')"><i class="fas fa-times-circle"></i> рЃЊрЃљрЃ«рЃБрЃарЃЋрЃљ</button>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="state.js"></script>
    <script src="ui.js"></script>
    <script src="game.js"></script>
    <script src="script.js"></script>
</body>
</html>
